<launch>
  <arg name="low_light" default="true"/>
  <!-- Start a simple Gazebo empty world -->
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="" />
    <arg name="paused" value="false" />
    <arg name="use_sim_time" value="true" />
    <arg name="gui" value="true" />
  </include>

  <!-- Fake robot publisher that provides /odom and camera feed -->
  <node pkg="inventory_robot" type="fake_robot_publisher.py" name="fake_robot" output="screen"/>

  <!-- Low-light camera simulator -->
  <node pkg="inventory_robot" type="low_light_camera.py" name="low_light_camera" output="screen">
    <param name="light_level" value="0.25"/>
    <param name="noise_level" value="0.2"/>
    <param name="blur_level" value="1.5"/>
  </node>

  <!-- Camera capture node -->
  <node pkg="inventory_robot" type="camera_capture.py" name="camera_capture" output="screen">
    <param name="image_dir" value="$(find inventory_robot)/captured_images"/>
    <param name="low_light_mode" value="true"/>
  </node>
</launch>